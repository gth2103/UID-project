{% extends 'layout.html' %}
{% block content %}
<div class="container">
<div class="row m-2 ml-4 mt-5">
    <div class="col-10 ml-5 mt-5">
        <header>
            What's happening?
        </header>
        <small class="text-muted headerHelpLeft d-inline-block">See what's coming up!</small>
        <small class="text-muted headerHelpRight d-inline-block text-right">Edit events, or invite friends below.</small>
        <div id="appointments">
        </div>
        <footer class="m-4 mt-5 text-center fixed-bottom">
            Copyright &copy
        </footer>
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Email</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                     <form id='message' action="/item" method="post">
                        <div class="modal-body">
                            {{ form.hidden_tag() }}
                            <div class='form-field'>
                                {{ form.recipient_email(placeholder="To:") }}
                                {% for error in form.recipient_email.errors %}
                                <div class="validation-error">{{ error }}</div>
                                {% endfor %}
                            </div>
                            <br>
                            <div class='form-field'>
                                {{ form.message(placeholder="Enter your message...") }}
                                {% for error in form.message.errors %}
                                <div class="validation-error">{{ error }}</div>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <button class='form-field-submit btn'>
                                {{ form.submit(id='email-submit', value="Send", class='btn btn-outline-secondary') }}
                            </button> 
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
</div>


{% endblock %}

{% block javascript %}

        <script type="text/javascript" src="{{ url_for('static', filename = 'item.js') }}"></script>

        <script type=text/javascript>
            var appointments = {{appointments|tojson|safe}}
        </script>

{% endblock %}

